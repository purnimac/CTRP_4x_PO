--Replace (123)456-7890 or (123)-456-7890 or 1234567890 (and other variations) with 123-456-7890 
update phonenumber set value=regexp_replace(value, E'^[^0-9]*([0-9]{3})[^0-9]*([0-9]{3})[^0-9]*([0-9]{4})[^0-9]*$', E'\\1\-\\2\-\\3') where value ~ E'^[^0-9]*([0-9]{3})[^0-9]*([0-9]{3})[^0-9]*([0-9]{4})[^0-9]*$';

--Replace (123)456-7890x123 or (123)-456-7890ext123 or 1234567890X123 (and other variations) with 123-456-7890x123 
update phonenumber set value=regexp_replace(value, E'^[^0-9]*([0-9]{3})[^0-9]*([0-9]{3})[^0-9]*([0-9]{4})[^0-9]+([0-9]+)[^0-9]*$', E'\\1\-\\2\-\\3x\\4') where value ~ E'^[^0-9]*([0-9]{3})[^0-9]*([0-9]{3})[^0-9]*([0-9]{4})[^0-9]+([0-9]+)[^0-9]*$';
